<!DOCTYPE html>
<html>
<head>
  <title>FREELY Biomimicry Engine</title>
  <style>
    body {
      font-family: Arial;
      max-width: 700px;
      margin: 40px auto;
      background: #f4f6f8;
    }

    h1 {
      text-align: center;
    }

    .card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    label {
      display: block;
      margin-top: 15px;
    }

    input[type=range] {
      width: 100%;
    }

    button {
      margin-top: 20px;
      padding: 12px;
      width: 100%;
      font-size: 16px;
      background: black;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    #result {
      margin-top: 20px;
      font-size: 20px;
      text-align: center;
      font-weight: bold;
    }
  </style>
</head>

<body>

<h1>FREELYâ„¢ Biomimicry Decision Engine</h1>

<div class="card">

<label>Decision:</label>
<input id="decision" placeholder="Enter decision being evaluated">

<div id="sliders"></div>

<button onclick="calculateScore()">Calculate FREELY Score</button>
<button onclick="analyzeDecision()">Analyze with FREELY AI</button>
<div id="result"></div>
<div id="aiResult" style="margin-top:20px; white-space:pre-wrap;"></div>
</div>

<script>

const principles = [
"Regeneration",
"Resilience",
"Decentralization",
"Energy Efficiency",
"Human Flourishing",
"Long-Term Stability",
"Biblical Ethics"
];

const container = document.getElementById("sliders");

principles.forEach((p, i) => {
  container.innerHTML += `
    <label>${p}: <span id="v${i}">5</span></label>
    <input type="range" min="1" max="10" value="5"
      oninput="document.getElementById('v${i}').innerText=this.value"
      id="s${i}">
  `;
});

function calculateScore() {

  let total = 0;

  principles.forEach((_, i) => {
    total += Number(document.getElementById("s"+i).value);
  });

  let score = (total / principles.length).toFixed(2);

  let status = "";
  let color = "";

  if(score >= 8){
    status = "THRIVE";
    color = "green";
  } else if(score >= 5){
    status = "RISK";
    color = "orange";
  } else {
    status = "COLLAPSE";
    color = "red";
  }

  document.getElementById("result").innerHTML =
    `FREELY Score: ${score}<br>
     Status: <span style="color:${color}">${status}</span>`;
}
async function analyzeDecision() {

  const decision =
    document.getElementById("decision").value;

  let scores = [];

  for(let i=0;i<principles.length;i++){
    scores.push(
      principles[i] + ": " +
      document.getElementById("s"+i).value
    );
  }

  const prompt = `
You are FREELY, a biomimicry decision intelligence system.

Decision:
${decision}

Scores:
${scores.join("\n")}

Explain:
- resilience impact
- biomimicry alignment
- ethical consequences
- long-term survival outlook

Be clear, strategic, and concise.
`;

  const response = await fetch(
    "https://frosty-wave-c4b6.dave-21f.workers.dev",
    {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        model: "gpt-4o-mini",
        messages: [{role:"user",content:prompt}]
      })
    }
  );

  const data = await response.json();

  document.getElementById("aiResult").innerText =
    data.choices[0].message.content;
}
</script>

</body>
</html>



